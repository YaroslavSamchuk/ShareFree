# Деплой BetterView на Vercel

## Важные ограничения Socket.IO на Vercel

⚠️ **ВНИМАНИЕ**: Socket.IO не работает на Vercel из-за serverless архитектуры!

### Проблемы с Socket.IO на Vercel:
1. **Нет постоянных соединений** - Vercel функции завершаются после обработки запроса
2. **Нет WebSocket поддержки** - Serverless функции не поддерживают постоянные WebSocket соединения
3. **Нет состояния между запросами** - Каждый запрос обрабатывается изолированно

### Альтернативные решения:

#### 1. Использование REST API (текущее решение)
- Создали API endpoints: `/api/rooms.js` и `/api/signaling.js`
- Ограниченная функциональность WebRTC сигналинга
- Подходит для простых случаев использования

#### 2. Рекомендуемые платформы для Socket.IO:
- **Railway** - поддерживает WebSocket и долгоживущие процессы
- **Heroku** - полная поддержка Node.js приложений
- **DigitalOcean App Platform** - поддержка WebSocket
- **Render** - хорошая альтернатива с поддержкой Socket.IO

## Деплой на Vercel (с ограничениями)

### 1. Подготовка проекта
```bash
npm install -g vercel
```

### 2. Настройка переменных окружения
Скопируйте `.env.example` в `.env.local` и настройте значения:
```bash
cp .env.example .env.local
```

### 3. Деплой
```bash
vercel --prod
```

### 4. Настройка домена и DNS (опционально)
```bash
vercel domains add your-domain.com
```

## Файлы конфигурации

### vercel.json
- Основная конфигурация Vercel
- Настройки роутинга и функций
- Таймауты и переменные окружения

### package.json
- Скрипты для сборки и запуска
- Зависимости проекта
- Настройки Node.js версии

## Ограничения функциональности на Vercel

### ❌ Не работает:
- Реальное время видео-чат через Socket.IO
- Автоматическое подключение/отключение пользователей
- Синхронизация состояния между клиентами
- WebRTC сигналинг в реальном времени

### ✅ Работает:
- Статические файлы (HTML, CSS, JS)
- REST API endpoints
- Базовая WebRTC функциональность (P2P)
- Создание и управление комнатами

## Рекомендации для продакшена

1. **Для полной функциональности** - используйте Railway или Heroku
2. **Для статической версии** - Vercel подойдет с ограничениями
3. **Для тестирования** - локальная разработка с `npm run dev`

## Миграция с Vercel

Если нужна полная функциональность Socket.IO:

1. Выберите платформу (Railway, Heroku, Render)
2. Удалите `/api` папку
3. Используйте оригинальный `server.js`
4. Настройте переменные окружения на новой платформе